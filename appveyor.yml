# Attempts to install ECOS in Python 2.7 and Python 3.3 on both 64- and
# 32-bit Windows.
environment:
    global:
          PYTHON: "C:\\conda"
          MINICONDA_FILENAME: "Miniconda2-latest-Windows-x86_64.exe"
          ENV_NAME: "testenv"
    matrix:
          - PYTHON_VERSION: "2.7"
          - PYTHON_VERSION: "3.5"

# SCS is a required solver.
# SCS has no 32 bit distribution on conda.
# As such, cvxpy's AppVeyor tests will only use 64 bit windows.
platform:
    - x64

install:
    - "powershell continuous_integration\\appveyor_install.ps1"

# Not a .NET project, we build CVXPY in the install step instead
build: false

test_script:
    - "echo %PATH%"
    - "activate %ENV_NAME%"
    - "conda env list"
    - "nosetests cvxpy"
